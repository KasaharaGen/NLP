Q: iChat can't authenticate to Lion Server 10.7.2 I've enabled iChat and iCal Server through our local 10.7.2 Server which has DNS set up correctly. I can add the server account via a client's System Preferences (under other - Mac OS X server) and it authenticates with my shortname correctly. 

However, when I load iChat, I get this error message:

Where the account is myusername@servername.ourdomain.co.nz.
The password and username is correct. 
Console throws this error:

22/11/11 3:03:31.135 PM imagent: [Warning] XMPPConnection: Error: Error Domain=XMPPErrorDomain Code=105 "The operation couldnï¿½t be completed. (XMPPErrorDomain error 105.)" UserInfo=0x7f81bbe2a3e0 {XMPPErrorText=service requested for unknown domain}

DNS is set up correctly (it's working for Profile Management, Software Update Server and Web Services) but I can't get iChat to work correctly. 
How can I get clients to authenticate?
FYI: It's probably worth noting that I get the exact same error messages when I use username@domain.co.nz instead of username@servername.domain.co.nz.
Also posted this question on Apple Discussion here.

A: This question was answered on Apple Discussions. In short, the server was misconfigured to have the Jabber Domain set to the local DNS name - rather than a FQDN. 
The problem was fixed by issuing the following terminal command:

sudo serveradmin settings jabber jabber:hosts:_array_index:0 = "servername.domain.co.nz"

You can check this discussion for full details. Thankyou sfatula on Apple Discussions for the solution! 
