Q: Lion deletes files after copying to shared folder on AFP I have an iMac 27" (late 2009) running Lion OS X with all latest patches.
There is an external USB drive (Mac partition, journalled), on which I have created a network share using AFP.
Since yesterday, another Lion machine (the source) trying to save files to the share will copy the files, but at the end of the process the files are nowhere to be found on the target (i.e. my machine).
It was working yesterday because I have a folder there with yesterday's date.
I have stopped and started sharing, tried with different shares and permissions, turned off the Firewall, and various other things to try fixing this.
The only thing that I know has changed since yesterday afternoon is that I upgraded iLife to version 2011 (with associated updates from Software Update).
Behaviour: files can be seen copying (grayed out), and at the end of the process, have vanished. From the source machine, everything appears normal. In other words, the files are disappearing after they finish copying.
Side note: if a folder is copied, the folder itself is created, but the files inside are copied and then deleted but the folder remains.
Further note: AirDrop does work, but I don't want to use it because it's the 21st century and network shares should work by now.
Any thoughts are welcome.
EDIT: When I try to overwrite the folder that has already been created (see above), it tells me (at the source) that the folder is in use and cannot be changed.
SECOND EDIT: After repairing permissions on both iMacs, things appear to be working again, but I will monitor the situation and update this question in a day or two anyway.

A: As noted in my second edit, repairing permissions appears to have fixed the problem, though I don't see how.
