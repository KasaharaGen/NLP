Q: How to recreate Lion Recovery HD partition? I have a Macbook Air Mid 2011 which came pre-installed with Lion.
After a trackpad hardware problem I wanted to be sure that none of my programs was responsible for the problem. I booted into the recovery partition and used the disk utility program to repartition the disk with a single partition (the recovery partition wasn't listed there so I assumed that it was not affected of the repartitioning much like the hidden EFI partition) and reinstalled Lion onto that partition.
Later I noticed that this has in fact removed the internal recovery partition (although it allows the "web recovery" to start).
Now I'm searching for a way to "restore" that internal recovery partition. Is there a manual way to re-enable that partition? Or any other way to allow me to use Filevault 2 (which requires the internal recovery partition)?

A: I installed a larger drive in my MBP and cloned my original disk to the new drive using SuperDuper!  This process doesn't create the restore partition. Reinstalling Lion onto the new drive created the necessary partition for me. 
I reinstalled this using the "USB Key" installer run from a partition on an  external drive. My User accounts, applications, etc. survived the reinstall but I did have to run the updaters for the OS and reinstall Java after the Lion reinstall.
Note that I did all of this before enabling Filevault on the new drive. Not sure that mattered, but it seemed prudent. 

A: You can recreate the Lion Recovery Partition by following the instructions available at this Apple support document: http://support.apple.com/kb/dl1433
Note, you are not supposed to be able to see the recovery partition in normal use, so can you clarify how you have identified it is missing?  What happend when you boot with the CMD-R keys held down?

A: It IS possible for Disk Utility to erase the Recovery Partition. I had problems with my original installation so created a second, temporary, partition to do a clean install from the InstallESD.dmg within the Lion installer. I then used Migration Assistant to transfer my apps and files over to the new partition. In the process, a second Recovery Partition was created. Since I was having problems with the original install, I erased the original Recovery Partition and continued with the new one. When I came to transfer my files back onto the first half of the disk and erase the temporary second half, it also erased my Recovery Partition, without any request for confirmation from me. I was pretty pissed off at this!. I actually had to do clean reinstalls another two times to get it back. 
So to answer the OP's question, you can make a new Recovery Partition by performing a clean install but if you do this via a new partition, beware that erasing that new partition in the future may also erase the Recovery Partition. You will need the "Install Mac OS X Lion" from the App Store. Then right click on the download and choose "Show Package Contents". Navigate to "Contents" then "SharedSupport" and you'll find "InstallESD.dmg". Double click and run the installer. You DON'T NEED Snow Leopard for this; you can do a completely clean install.

A: If you reinstall OS X from App Store, it also recreates a recovery partition. I just tried it on a VM. First I removed the Recovery HD partition. Then I reinstalled OS X from App Store:

It took about two hours to download and run the installer, and after that I had a working recovery partition again.
Reinstalling OS X over an existing installation is similar to upgrading to a new major version of OS X, or it keeps user files and settings in place but replaces system files with new versions. Like upgrading OS X, it does for example remove Java though.
Upgrading to a new major version of OS X will also restore a recovery partition.
Reinstalling OS X is also recommended by SuperDuper's developer:

Actually, you can easily recreate the recovery partition by simply reinstalling Lion from the App Store. (This has the additional benefit of updating the recovery partition with the most recent data, too.)

Carbon Copy Cloner has an option to copy a recovery partition to another disk, but if your Mac doesn't have a recovery partition, Carbon Copy Cloner recommends reinstalling OS X:

