Q: What are the consequences of upgrading to OS X 10.7 Lion if I have a separate Boot Drive and Home folder drive in my MacBook Pro? I have an early-2011 MacBook Pro 15" with a 128GB SSD. I replaced the built-in SuperDrive with a 750GB MCE OptiBay HD, so my boot drive is the 128GB SSD (speed!) and I have moved over most of my Home folder except for Applications and Library to the 750GB HD (storage!). To make it all work smoothly, I followed TUAW's advice found here.
My directory structure looks like:


*

*SSD (Boot)

*

*Applications

*Developer

*Library

*opt

*System

*Users


*HD (Storage)

*

*Desktop

*Documents

*Downloads

*Dropbox

*Library (the other one)

*Movies

*Music

*Pictures

*Public

*Sites



So, my concern is that upgrading to Lion will eradicate this structure in some way and that I will have to do a special install. Has anyone tried this yet and can you tell me if there are any pitfalls I need to be aware of?

A: You probably should do what BMike has said as a precaution, but what you could also do is create alias folders in the Empty Users Home folder on the SSD. The alias folders would be empty, but would link to the actual folder on the larger hard drive. To create the alias, drag the actual folder to the users folder on the SSD whilst pressing command and alt together, you will see the green plus sign on the folder turn to a little curved arrow, whilst you're dragging.
Anything you put into the alias folders will go in the corresponding folder on the larger HD! This should also prevent any issues with the Lion upgrade, however in saying that, you shouldn't have a problem anyway as all the OS files are on the SSD!
Hope this helps!

A: So, here is what I have done, and so far there have been no ill effects:


*

*Purchase Lion from the Mac App Store so that the installer is in the Applications folder before step 2...

*Download and register SuperDuper! and create clones of the boot and storage drives (since the Lion installer is on the boot drive, any restores will restore the Lion installer, preventing you from having to redownload it)

*Confirm that the boot drive clone boots properly, and that it still sees the original home folder (set up using the TUAW instructions mentioned in my original question).

*Run the Lion installer.


It was that simple. Lion installed over the Snow Leopard installation with no apparent issues. 
The only "sort of" issue I have encountered (and it is not directly related to the OP) is that after installing Lion, I enabled FileVault. Since the boot drive is separate from the storage drive, and FV only works on the boot drive, I think this creates some sort of permissions issue when trying to access the storage drive, such that I was prompted for my password when performing many file actions (moves and deletes primarily). The biggest issue here is that anything that used Dropbox (on the storage drive) to sync, such as 1Password and TextExpander, was giving me permission errors and was not working properly. TextExpander lost the ability to use the Dropbox sync feature, and 1Password was throwing a strange sync error. 
This did not happen prior to activating FV. Since the sensitive information is on the storage drive anyway, and nothing of any real value is on the boot drive, FV doesn't have a huge benefit to me, so I simply disabled it and everything seems to be working fine. I am currently investigating 3rd party encryption tools to replace FileVault.
I also had issues with Login items not staying put in the Pref Pane dialog (under Users & Groups), but disabling FV corrected that as well. 
